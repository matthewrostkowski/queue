<div class="card" data-testid="profile-page">
  <h1>@<%= @user.display_name %></h1>
  <p>Your Queue activity and contributions</p>

  <!-- Stats Summary -->
  <div style="display:flex;gap:24px;margin:24px 0;padding:16px;background:rgba(45,45,45,0.3);border-radius:10px">
    <div style="text-align:center;flex:1">
      <div style="font-size:32px;font-weight:900;color:var(--accent)"><%= @summary[:songs_queued_count] %></div>
      <div style="font-size:12px;color:var(--muted);text-transform:uppercase">Songs Queued</div>
    </div>
    <div style="text-align:center;flex:1">
      <div style="font-size:32px;font-weight:900;color:var(--accent)"><%= @summary[:total_upvotes_received] %></div>
      <div style="font-size:12px;color:var(--muted);text-transform:uppercase">Total Upvotes</div>
    </div>
  </div>

  <!-- Queue Items List -->
  <h2 style="margin-top:32px;margin-bottom:16px;font-size:20px">Songs I've Queued</h2>
  
  <% if @queue_items.any? %>
    <div style="display:flex;flex-direction:column;gap:12px">
      <% @queue_items.each do |queue_item| %>
        <div style="display:flex;gap:12px;padding:12px;background:rgba(45,45,45,0.3);border:1px solid var(--line);border-radius:10px;align-items:center">
          <!-- Album Art (if you have it) -->
          <% if queue_item.song.respond_to?(:album_art_url) && queue_item.song.album_art_url.present? %>
            <img src="<%= queue_item.song.album_art_url %>" 
                 alt="<%= queue_item.song.title %>" 
                 style="width:50px;height:50px;border-radius:6px;object-fit:cover">
          <% else %>
            <div style="width:50px;height:50px;border-radius:6px;background:var(--accent);display:flex;align-items:center;justify-content:center;font-size:24px;font-weight:bold;color:white">
              <%= queue_item.song.title[0].upcase %>
            </div>
          <% end %>
          
          <!-- Song Info -->
          <div style="flex:1;min-width:0">
            <div style="font-weight:700;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">
              <%= queue_item.song.title %>
            </div>
            <div style="font-size:12px;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">
              <%= queue_item.song.artist %>
            </div>
            <div style="display:flex;gap:8px;margin-top:4px;font-size:11px;color:var(--muted)">
              <span style="padding:2px 6px;background:var(--accent);color:white;border-radius:4px;font-weight:700;text-transform:uppercase">
                <%= queue_item.status %>
              </span>
              <span><%= time_ago_in_words(queue_item.created_at) %> ago</span>
              <span>$<%= queue_item.price_for_display %></span>
            </div>
          </div>
          
          <!-- Upvote Count -->
          <div style="display:flex;align-items:center;gap:6px;padding:6px 12px;background:var(--accent);color:white;border-radius:8px;font-weight:700;font-size:16px">
            <span>üëç</span>
            <span><%= queue_item.vote_count %></span>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div style="text-align:center;padding:32px;color:var(--muted);background:rgba(45,45,45,0.2);border-radius:10px">
      <div style="font-size:48px;margin-bottom:12px;opacity:0.5">üéµ</div>
      <p>You haven't queued any songs yet.</p>
      <p>Visit a venue and add your first song to the queue!</p>
    </div>
  <% end %>
  
  <p style="color:var(--muted);margin-top:24px;text-align:center">
    <%= link_to "Back to Main", mainpage_path, style: "color:var(--accent);text-decoration:none" %>
  </p>
</div>
